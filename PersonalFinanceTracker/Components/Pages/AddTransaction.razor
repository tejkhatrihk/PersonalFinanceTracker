@page "/add"
@rendermode InteractiveServer
@using PersonalFinanceTracker.Data.Models

<h3>Add Transaction</h3>

<EditForm OnValidSubmit="HandleValidSubmit" Model="transaction" FormName="AddTransactionForm">
    <DataAnnotationsValidator />
    <ValidationSummary /> 
    <div class="form-group">
        <label for="amount">Amount:</label>
        <InputNumber id="amount" @bind-Value="transaction.Amount" class="form-control w-25" />
        <ValidationMessage For="@(() => transaction.Amount)" />
    </div>

    <div class="form-group">
        <label for="date">Date:</label>
        <InputDate id="date" @bind-Value="transaction.Date" class="form-control w-25" />
        <ValidationMessage For="@(() => transaction.Date)" />
    </div>

    <div class="form-group">
        <label for="description">Description:</label>
        <InputText id="description" @bind-Value="transaction.Description" class="form-control w-25" />
        <ValidationMessage For="@(() => transaction.Description)" />
    </div>
    <div class="form-group">
        <label for="category">Category:</label>
        <select id="category" @bind="transaction.CategoryId" class="form-control w-25">
            <option value="">Select a category</option>
            @foreach (var category in categories)
            {
                <option value="@category.Id">@category.Name</option>
            }
        </select>
        <ValidationMessage For="@(() => transaction.Id)" />
    </div>

    <button type="submit" class="btn btn-primary mt-3">Add Transaction</button>
</EditForm>
